<script type="application/javascript;version=1.8">

function fibbonaci_generator() {
  /*
  yield 1;
  yield 2;
  yield 3;
  yield 5;
  yield 8;
  */

  /*
  var a=1;
  var b=1;
  
  yield b; // 1 1
  
  a = a+b;
  yield a; // 2 1
  
  b = a+b;
  yield b; // 2 3
  
  a = a+b;
  yield a; // 5 3

  b = a+b;
  yield b; // 5 8
  */
  
  // idea xor-swap -> discovered add-swap
  // http://en.wikipedia.org/wiki/XOR_swap_algorithm
  var a=1, b=1;
  while(true) {
    yield a;
    a = a + b;
    b = a - b;
  }
}

var fib = fibbonaci_generator();
for(var i=0; i<10; i++) {
  //console.log(fib.next());
}

// version without generator
var a=1, b=1;
var sum=0;

for(var i=0; a<4000000; i++) {
  if(a%2==0)
    sum += a;
  a = a + b;
  b = a - b;
}
console.log(sum);

// smaller

// version without generator
for(var a=1,b=1,sum=0; a<4000000; a=a+b,b=a-b,sum+=a*(1-a%2));alert(sum);

</script>